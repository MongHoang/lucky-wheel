/* ===== Reset ===== */
*{box-sizing:border-box}
html,body{height:100%}
:root{
    --text:#e8edf6;
    --muted:#a7b3c7;
    --primary:#1769ff;

    /* chiều cao ticker đáy (ảnh hưởng vị trí FAB) */
    --ticker-h: 40px;

    /* kích thước nút liên hệ nổi (FAB) */
    --fab-size: 64px;
    --fab-icon: 34px;
}
html,body{margin:0;background:transparent}
body{font:15px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:var(--text)}
.hidden{display:none!important}

/* ===== Background (desktop/mobile) ===== */
.page-bg{
    position:fixed; inset:0; z-index:0; pointer-events:none;
    background:
            radial-gradient(1200px 800px at 50% -10%,
            rgba(11,18,32,.04) 0%,
            rgba(11,18,32,.18) 55%,
            rgba(9,15,27,.36) 100%),
            url("../img/bg-desktop.webp") center/cover no-repeat;
    background-attachment:fixed,fixed;
}
@media (max-width:600px){
    .page-bg{
        background:
                radial-gradient(1200px 800px at 50% -10%,
                rgba(11,18,32,.04) 0%,
                rgba(11,18,32,.18) 55%,
                rgba(9,15,27,.36) 100%),
                url("../img/bg-mobile.webp") center/cover no-repeat;
        background-attachment:fixed,fixed;
    }
}
.page-bg::after{content:""; position:absolute; inset:0; background:rgba(0,0,0,.35)}

/* ===== Layout ===== */
.app-root{position:relative; z-index:1; min-height:100svh}
.container{max-width:1260px;margin:36px auto 72px;padding:0 20px}

/* ===== Hero ===== */
.hero{ position:relative; text-align:center; margin-bottom:10px; z-index:2 }
.hero__title{
    margin:0 0 8px; padding:6px 12px; border-radius:999px;
    font-weight:800; letter-spacing:.2px;
    font-size:clamp(16px,4vw,22px);
    color:#fff; background:rgba(0,0,0,.30);
    backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px);
    box-shadow:0 2px 10px rgba(0,0,0,.25)
}
.hero__meta{
    margin:0;display:inline-flex;gap:10px;align-items:center;font-weight:700;color:#fff;
    padding:6px 12px;border-radius:999px;
    background:rgba(0,0,0,.30);
    backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);
    box-shadow:0 2px 10px rgba(0,0,0,.25);
}
.muted{color:rgba(255,255,255,.95)} .dot{opacity:.9}

/* Desktop: ghim hero góc phải, tách 3 dòng (không chiếm layout ⇒ bánh to hơn) */
@media (min-width:900px){
    .hero{
        position:absolute; right:20px; top:14px;
        margin:0; text-align:right;
        display:flex; flex-direction:column; align-items:flex-end; gap:8px;
        pointer-events:none;
    }
    .hero__title{ margin:0; font-size:18px; padding:6px 10px; pointer-events:auto; }
    .hero__meta{
        background:transparent; box-shadow:none; padding:0; gap:6px;
        display:flex; flex-direction:column; align-items:flex-end; pointer-events:auto;
    }
    .hero__meta .dot{ display:none; }
    .hero__meta > span{
        background:rgba(0,0,0,.30);
        padding:6px 10px;
        border-radius:999px;
        box-shadow:0 2px 10px rgba(0,0,0,.25);
        display:block;
        min-width:max-content;
    }
}

/* ===== Card (khung) ===== */
.stage{display:grid;place-items:center;margin-top:4px;position:relative;z-index:1}
.card{
    position:relative; border-radius:22px; padding:14px 14px 12px;
    box-shadow:0 20px 60px rgba(0,0,0,.35); background:transparent;
}
.card::before{
    content:""; position:absolute; inset:0; border-radius:inherit; z-index:0;
    background:rgba(255,255,255,.10);
    border:1px solid rgba(255,255,255,.25);
    backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%);
}
.card > *{position:relative; z-index:1}

/* Desktop: BỎ khung để bánh to nhất */
@media (min-width:900px){
    .card{ padding:0; box-shadow:none; }
    .card::before{ display:none; }
}

/* ===== Wheel area ===== */
.wheel-card{ width:min(98vw, 1200px); margin-inline:auto; }
.wheel-wrap{
    position:relative;
    width:100%;
    aspect-ratio:1/1;
    margin:10px auto 10px;
    filter:drop-shadow(0 30px 50px rgba(0,0,0,.35))
}
.wheel-wrap canvas{position:absolute;inset:0;width:100%;height:100%;display:block}

/* Spin button */
.spin-btn{
    position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
    width:clamp(102px,16vw,132px);height:clamp(102px,16vw,132px);
    border-radius:999px;border:2px solid rgba(255,255,255,.65);
    font-weight:900;letter-spacing:.5px;text-transform:uppercase;
    font-size:clamp(16px,2.6vw,21px);color:#fff;text-shadow:0 1px 0 rgba(0,0,0,.25);
    background:radial-gradient(120% 120% at 30% 25%, #8ec9ff 0%, #56a4ff 38%, #2a7ef2 68%, #1c63d8 100%);
    box-shadow: inset 0 10px 18px rgba(255,255,255,.35),
    inset 0 -10px 18px rgba(0,0,0,.28),
    0 10px 18px rgba(0,0,0,.28);
    cursor:pointer; transition:transform .08s ease, box-shadow .12s ease;
}
.spin-btn::before{
    content:""; position:absolute; inset:10%; border-radius:inherit;
    background: radial-gradient(120% 120% at 30% 25%, rgba(255,255,255,.55), rgba(255,255,255,0) 60%);
    pointer-events:none;
}
.spin-btn:hover{ transform:translate(-50%,-50%) scale(1.02); }
.spin-btn:active{
    transform:translate(-50%,-50%) scale(.98);
    box-shadow: inset 0 6px 12px rgba(255,255,255,.28),
    inset 0 -10px 16px rgba(0,0,0,.35),
    0 6px 14px rgba(0,0,0,.26);
}
.spin-btn:disabled{ opacity:.55; cursor:not-allowed; }

/* Actions */
.actions{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:6px}
.btn{padding:12px 14px;border-radius:12px;border:0;font-weight:800;letter-spacing:.2px;cursor:pointer}
.btn.share{background:#1877f2;color:#fff}
.btn:disabled{opacity:.6;cursor:not-allowed}
.legal{margin:10px 4px 2px;color:#e8edf6;opacity:.88;font-size:12.5px;text-align:center}

/* ===== MOBILE OPTIMIZED: bỏ khung + căn giữa, chừa lề hai bên ===== */
@media (max-width:899px){
    /* bỏ toàn bộ khung mờ trên mobile để canh giữa dễ & bánh to hơn */
    .wheel-card{ padding:0 !important; margin-inline:auto; }
    .card{ padding:0 !important; box-shadow:none !important; }
    .card::before{ display:none !important; }

    /* chừa lề 8px mỗi bên, override inline width từ JS nếu có */
    .wheel-card{
        width: calc(100vw - 16px) !important;
        margin-left: -10px !important;
        margin-right: 8px !important;
    }

    /* giảm padding thân card để không đẩy canvas */
    .stage{ margin-top: 4px; }
}

/* Mobile: sticky nút chia sẻ */
@media (max-width:640px){
    .actions{
        position:fixed; left:12px; right:12px;
        bottom:calc(12px + var(--ticker-h));
        z-index:940; margin:0;
    }
    .btn.share{ width:100%; padding:14px; border-radius:14px; }
}

/* ===== Modal ===== */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.46);display:grid;place-items:center;z-index:1000}
.modal__dialog{width:min(92vw,420px);background:#0f1526;border:1px solid #223157;border-radius:16px;padding:18px;color:var(--text);box-shadow:0 20px 60px rgba(0,0,0,.45)}
.modal__title{margin:0 0 10px;font:800 18px/1.2 system-ui,sans-serif}
.modal__form{display:grid;gap:12px}
.field{display:grid;gap:6px}
.field span{color:var(--muted);font-weight:600}
.field input,.field select{border:1px solid #263458;background:#0e1424;color:#e8edf6;border-radius:10px;padding:10px 12px;font:600 14px/1 system-ui,sans-serif;outline:none}
.field input:focus,.field select:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(23,105,255,.15)}
.modal__actions{display:flex;gap:10px;justify-content:flex-end;margin-top:6px}
.btn.primary{background:var(--primary);color:#fff}
.btn.ghost{background:#1b263d;color:#c9d4e7}
.modal__hint{margin:4px 0 0;font-size:12px;color:#8ca0bd}

/* Popup trúng thưởng */
#winModal .modal__dialog{ width:min(92vw,560px); text-align:center; }
#winModal .modal__title{ font-size:24px; margin-bottom:8px; }
#winModal .modal__prize{ font-size:22px; margin:8px 0 4px; }

/* Canvas confetti phủ toàn màn (không chặn click) */
.confetti-layer{ position:fixed; inset:0; pointer-events:none; z-index:1200; }

/* ===== Banner chạy (ticker) ===== */
.ticker{
    position:fixed; left:0; right:0; bottom:0; z-index:900;
    background:rgba(0,0,0,.55); backdrop-filter: blur(6px);
    border-top:1px solid rgba(255,255,255,.2);
    color:#fff; font-weight:800;
    overflow:hidden; height:var(--ticker-h); display:flex; align-items:center;
}
.ticker__track{ display:flex; gap:24px; white-space:nowrap; will-change:transform; animation:tickerScroll 22s linear infinite; }
.ticker__item{ padding:0 8px; opacity:.95 }
@keyframes tickerScroll{ from{ transform:translateX(0) } to{ transform:translateX(-50%) } }

/* ===== FAB ===== */
.contact-fab{
    position:fixed;
    right:14px;
    bottom:calc(14px + var(--ticker-h) + env(safe-area-inset-bottom));
    display:flex; flex-direction:column; gap:10px;
    z-index:980;
}
.fab-btn.fab-btn{
    width:var(--fab-size);
    height:var(--fab-size);
    display:grid; place-items:center;
    text-decoration:none; user-select:none;
    background:transparent; border:none; box-shadow:none;
}
.fab-btn:hover img { transform: scale(1.1); transition: transform 0.15s ease; }
.fab-btn svg{ width:var(--fab-icon); height:var(--fab-icon); display:block }
.fab-btn:hover{ transform:translateY(-2px); box-shadow:0 14px 30px rgba(0,0,0,.34) }
.fab-btn:active{ transform:translateY(0); filter:saturate(1.1) }
.fab-btn img { width: 100%; height: auto; display: block; max-width: 48px; border-radius: 50%; }

/* Mobile: nhường chỗ cho nút chia sẻ sticky */
@media (max-width:640px){
    .contact-fab{ bottom:calc(14px + var(--ticker-h) + 56px + env(safe-area-inset-bottom)); }
}

/* ===== DEV panel ===== */
.dev-panel{
    position: fixed; right: 14px; bottom: calc(54px + var(--ticker-h)); z-index: 9999; display:none;
    gap: 6px; background: rgba(0,0,0,.35); color:#fff;
    border: 1px solid rgba(255,255,255,.25); padding: 8px; border-radius: 12px;
    backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    font: 600 13px/1 system-ui, sans-serif;
}
.dev-panel.show{ display:flex; }
.dev-panel button{
    border: 0; border-radius: 8px; padding: 8px 10px; cursor: pointer;
    background: rgba(255,255,255,.18); color:#fff; font-weight:800;
}
.dev-panel button:hover{ background: rgba(255,255,255,.28); }

/* Màn rất nhỏ: thu gọn FAB */
@media (max-width:420px){
    :root{ --fab-size: 56px; --fab-icon: 30px; }
}

/* phòng tràn ngang ngoài ý muốn */
html, body { overflow-x: hidden; }
